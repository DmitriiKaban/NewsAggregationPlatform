function Co(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var wt={exports:{}},d={};var Yn;function jo(){if(Yn)return d;Yn=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),k=Symbol.iterator;function x(i){return i===null||typeof i!="object"?null:(i=k&&i[k]||i["@@iterator"],typeof i=="function"?i:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ue=Object.assign,Y={};function K(i,l,y){this.props=i,this.context=l,this.refs=Y,this.updater=y||D}K.prototype.isReactComponent={},K.prototype.setState=function(i,l){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,l,"setState")},K.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function T(){}T.prototype=K.prototype;function j(i,l,y){this.props=i,this.context=l,this.refs=Y,this.updater=y||D}var B=j.prototype=new T;B.constructor=j,ue(B,K.prototype),B.isPureReactComponent=!0;var J=Array.isArray;function b(){}var m={H:null,A:null,T:null,S:null},ce=Object.prototype.hasOwnProperty;function xe(i,l,y){var h=y.ref;return{$$typeof:e,type:i,key:l,ref:h!==void 0?h:null,props:y}}function Eo(i,l){return xe(i.type,l,i.props)}function gt(i){return typeof i=="object"&&i!==null&&i.$$typeof===e}function $o(i){var l={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(y){return l[y]})}var zn=/\/+/g;function vt(i,l){return typeof i=="object"&&i!==null&&i.key!=null?$o(""+i.key):l.toString(36)}function ko(i){switch(i.status){case"fulfilled":return i.value;case"rejected":throw i.reason;default:switch(typeof i.status=="string"?i.then(b,b):(i.status="pending",i.then(function(l){i.status==="pending"&&(i.status="fulfilled",i.value=l)},function(l){i.status==="pending"&&(i.status="rejected",i.reason=l)})),i.status){case"fulfilled":return i.value;case"rejected":throw i.reason}}throw i}function me(i,l,y,h,g){var v=typeof i;(v==="undefined"||v==="boolean")&&(i=null);var S=!1;if(i===null)S=!0;else switch(v){case"bigint":case"string":case"number":S=!0;break;case"object":switch(i.$$typeof){case e:case t:S=!0;break;case f:return S=i._init,me(S(i._payload),l,y,h,g)}}if(S)return g=g(i),S=h===""?"."+vt(i,0):h,J(g)?(y="",S!=null&&(y=S.replace(zn,"$&/")+"/"),me(g,l,y,"",function(xo){return xo})):g!=null&&(gt(g)&&(g=Eo(g,y+(g.key==null||i&&i.key===g.key?"":(""+g.key).replace(zn,"$&/")+"/")+S)),l.push(g)),1;S=0;var Z=h===""?".":h+":";if(J(i))for(var N=0;N<i.length;N++)h=i[N],v=Z+vt(h,N),S+=me(h,l,y,v,g);else if(N=x(i),typeof N=="function")for(i=N.call(i),N=0;!(h=i.next()).done;)h=h.value,v=Z+vt(h,N++),S+=me(h,l,y,v,g);else if(v==="object"){if(typeof i.then=="function")return me(ko(i),l,y,h,g);throw l=String(i),Error("Objects are not valid as a React child (found: "+(l==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":l)+"). If you meant to render a collection of children, use an array instead.")}return S}function Fe(i,l,y){if(i==null)return i;var h=[],g=0;return me(i,h,"","",function(v){return l.call(y,v,g++)}),h}function Ao(i){if(i._status===-1){var l=i._result;l=l(),l.then(function(y){(i._status===0||i._status===-1)&&(i._status=1,i._result=y)},function(y){(i._status===0||i._status===-1)&&(i._status=2,i._result=y)}),i._status===-1&&(i._status=0,i._result=l)}if(i._status===1)return i._result.default;throw i._result}var Gn=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},So={map:Fe,forEach:function(i,l,y){Fe(i,function(){l.apply(this,arguments)},y)},count:function(i){var l=0;return Fe(i,function(){l++}),l},toArray:function(i){return Fe(i,function(l){return l})||[]},only:function(i){if(!gt(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};return d.Activity=_,d.Children=So,d.Component=K,d.Fragment=n,d.Profiler=s,d.PureComponent=j,d.StrictMode=r,d.Suspense=c,d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=m,d.__COMPILER_RUNTIME={__proto__:null,c:function(i){return m.H.useMemoCache(i)}},d.cache=function(i){return function(){return i.apply(null,arguments)}},d.cacheSignal=function(){return null},d.cloneElement=function(i,l,y){if(i==null)throw Error("The argument must be a React element, but you passed "+i+".");var h=ue({},i.props),g=i.key;if(l!=null)for(v in l.key!==void 0&&(g=""+l.key),l)!ce.call(l,v)||v==="key"||v==="__self"||v==="__source"||v==="ref"&&l.ref===void 0||(h[v]=l[v]);var v=arguments.length-2;if(v===1)h.children=y;else if(1<v){for(var S=Array(v),Z=0;Z<v;Z++)S[Z]=arguments[Z+2];h.children=S}return xe(i.type,g,h)},d.createContext=function(i){return i={$$typeof:a,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null},i.Provider=i,i.Consumer={$$typeof:o,_context:i},i},d.createElement=function(i,l,y){var h,g={},v=null;if(l!=null)for(h in l.key!==void 0&&(v=""+l.key),l)ce.call(l,h)&&h!=="key"&&h!=="__self"&&h!=="__source"&&(g[h]=l[h]);var S=arguments.length-2;if(S===1)g.children=y;else if(1<S){for(var Z=Array(S),N=0;N<S;N++)Z[N]=arguments[N+2];g.children=Z}if(i&&i.defaultProps)for(h in S=i.defaultProps,S)g[h]===void 0&&(g[h]=S[h]);return xe(i,v,g)},d.createRef=function(){return{current:null}},d.forwardRef=function(i){return{$$typeof:u,render:i}},d.isValidElement=gt,d.lazy=function(i){return{$$typeof:f,_payload:{_status:-1,_result:i},_init:Ao}},d.memo=function(i,l){return{$$typeof:p,type:i,compare:l===void 0?null:l}},d.startTransition=function(i){var l=m.T,y={};m.T=y;try{var h=i(),g=m.S;g!==null&&g(y,h),typeof h=="object"&&h!==null&&typeof h.then=="function"&&h.then(b,Gn)}catch(v){Gn(v)}finally{l!==null&&y.types!==null&&(l.types=y.types),m.T=l}},d.unstable_useCacheRefresh=function(){return m.H.useCacheRefresh()},d.use=function(i){return m.H.use(i)},d.useActionState=function(i,l,y){return m.H.useActionState(i,l,y)},d.useCallback=function(i,l){return m.H.useCallback(i,l)},d.useContext=function(i){return m.H.useContext(i)},d.useDebugValue=function(){},d.useDeferredValue=function(i,l){return m.H.useDeferredValue(i,l)},d.useEffect=function(i,l){return m.H.useEffect(i,l)},d.useEffectEvent=function(i){return m.H.useEffectEvent(i)},d.useId=function(){return m.H.useId()},d.useImperativeHandle=function(i,l,y){return m.H.useImperativeHandle(i,l,y)},d.useInsertionEffect=function(i,l){return m.H.useInsertionEffect(i,l)},d.useLayoutEffect=function(i,l){return m.H.useLayoutEffect(i,l)},d.useMemo=function(i,l){return m.H.useMemo(i,l)},d.useOptimistic=function(i,l){return m.H.useOptimistic(i,l)},d.useReducer=function(i,l,y){return m.H.useReducer(i,l,y)},d.useRef=function(i){return m.H.useRef(i)},d.useState=function(i){return m.H.useState(i)},d.useSyncExternalStore=function(i,l,y){return m.H.useSyncExternalStore(i,l,y)},d.useTransition=function(){return m.H.useTransition()},d.version="19.2.4",d}var Kn;function To(){return Kn||(Kn=1,wt.exports=jo()),wt.exports}var Sr=To();const Hc=Co(Sr);var Et;function xr(e){return{lang:e?.lang??Et?.lang,message:e?.message,abortEarly:e?.abortEarly??Et?.abortEarly,abortPipeEarly:e?.abortPipeEarly??Et?.abortPipeEarly}}var Ro;function Po(e){return Ro?.get(e)}var qo;function Io(e){return qo?.get(e)}var Oo;function Lo(e,t){return Oo?.get(e)?.get(t)}function Mo(e){const t=typeof e;return t==="string"?`"${e}"`:t==="number"||t==="bigint"||t==="boolean"?`${e}`:t==="object"||t==="function"?(e&&Object.getPrototypeOf(e)?.constructor?.name)??"null":t}function W(e,t,n,r,s){const o=s&&"input"in s?s.input:n.value,a=s?.expected??e.expects??null,u=s?.received??Mo(o),c={kind:e.kind,type:e.type,input:o,expected:a,received:u,message:`Invalid ${t}: ${a?`Expected ${a} but r`:"R"}eceived ${u}`,requirement:e.requirement,path:s?.path,issues:s?.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},p=e.kind==="schema",f=s?.message??e.message??Lo(e.reference,c.lang)??(p?Io(c.lang):null)??r.message??Po(c.lang);f!==void 0&&(c.message=typeof f=="function"?f(c):f),p&&(n.typed=!1),n.issues?n.issues.push(c):n.issues=[c]}function M(e){return{version:1,vendor:"valibot",validate(t){return e["~run"]({value:t},xr())}}}function Cr(e,t){return Object.hasOwn(e,t)&&t!=="__proto__"&&t!=="prototype"&&t!=="constructor"}function Do(e,t){const n=[...new Set(e)];return n.length>1?`(${n.join(` ${t} `)})`:n[0]??"never"}var Pt=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function jr(e){return{kind:"transformation",type:"transform",reference:jr,async:!1,operation:e,"~run"(t){return t.value=this.operation(t.value),t}}}function Bo(e,t,n){return typeof e.fallback=="function"?e.fallback(t,n):e.fallback}function zt(e,t,n){return typeof e.default=="function"?e.default(t,n):e.default}function Gt(e,t){return!e["~run"]({value:t},{abortEarly:!0}).issues}function Tr(){return{kind:"schema",type:"any",reference:Tr,expects:"any",async:!1,get"~standard"(){return M(this)},"~run"(e){return e.typed=!0,e}}}function Rr(e,t){return{kind:"schema",type:"array",reference:Rr,expects:"Array",async:!1,item:e,message:t,get"~standard"(){return M(this)},"~run"(n,r){const s=n.value;if(Array.isArray(s)){n.typed=!0,n.value=[];for(let o=0;o<s.length;o++){const a=s[o],u=this.item["~run"]({value:a},r);if(u.issues){const c={type:"array",origin:"value",input:s,key:o,value:a};for(const p of u.issues)p.path?p.path.unshift(c):p.path=[c],n.issues?.push(p);if(n.issues||(n.issues=u.issues),r.abortEarly){n.typed=!1;break}}u.typed||(n.typed=!1),n.value.push(u.value)}}else W(this,"type",n,r);return n}}}function qt(e){return{kind:"schema",type:"boolean",reference:qt,expects:"boolean",async:!1,message:e,get"~standard"(){return M(this)},"~run"(t,n){return typeof t.value=="boolean"?t.typed=!0:W(this,"type",t,n),t}}}function Pr(e){return{kind:"schema",type:"date",reference:Pr,expects:"Date",async:!1,message:e,get"~standard"(){return M(this)},"~run"(t,n){return t.value instanceof Date?isNaN(t.value)?W(this,"type",t,n,{received:'"Invalid Date"'}):t.typed=!0:W(this,"type",t,n),t}}}function Yt(e){return{kind:"schema",type:"function",reference:Yt,expects:"Function",async:!1,message:e,get"~standard"(){return M(this)},"~run"(t,n){return typeof t.value=="function"?t.typed=!0:W(this,"type",t,n),t}}}function qr(e,t){return{kind:"schema",type:"instance",reference:qr,expects:e.name,async:!1,class:e,message:t,get"~standard"(){return M(this)},"~run"(n,r){return n.value instanceof this.class?n.typed=!0:W(this,"type",n,r),n}}}function U(e,t){return{kind:"schema",type:"loose_object",reference:U,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return M(this)},"~run"(n,r){const s=n.value;if(s&&typeof s=="object"){n.typed=!0,n.value={};for(const o in this.entries){const a=this.entries[o];if(o in s||(a.type==="exact_optional"||a.type==="optional"||a.type==="nullish")&&a.default!==void 0){const u=o in s?s[o]:zt(a),c=a["~run"]({value:u},r);if(c.issues){const p={type:"object",origin:"value",input:s,key:o,value:u};for(const f of c.issues)f.path?f.path.unshift(p):f.path=[p],n.issues?.push(f);if(n.issues||(n.issues=c.issues),r.abortEarly){n.typed=!1;break}}c.typed||(n.typed=!1),n.value[o]=c.value}else if(a.fallback!==void 0)n.value[o]=Bo(a);else if(a.type!=="exact_optional"&&a.type!=="optional"&&a.type!=="nullish"&&(W(this,"key",n,r,{input:void 0,expected:`"${o}"`,path:[{type:"object",origin:"key",input:s,key:o,value:s[o]}]}),r.abortEarly))break}if(!n.issues||!r.abortEarly)for(const o in s)Cr(s,o)&&!(o in this.entries)&&(n.value[o]=s[o])}else W(this,"type",n,r);return n}}}function je(e,t){return{kind:"schema",type:"nullish",reference:je,expects:`(${e.expects} | null | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return M(this)},"~run"(n,r){return(n.value===null||n.value===void 0)&&(this.default!==void 0&&(n.value=zt(this,n,r)),n.value===null||n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function Ge(e){return{kind:"schema",type:"number",reference:Ge,expects:"number",async:!1,message:e,get"~standard"(){return M(this)},"~run"(t,n){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:W(this,"type",t,n),t}}}function Ye(e,t){return{kind:"schema",type:"optional",reference:Ye,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return M(this)},"~run"(n,r){return n.value===void 0&&(this.default!==void 0&&(n.value=zt(this,n,r)),n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function Ir(e,t,n){return{kind:"schema",type:"record",reference:Ir,expects:"Object",async:!1,key:e,value:t,message:n,get"~standard"(){return M(this)},"~run"(r,s){const o=r.value;if(o&&typeof o=="object"){r.typed=!0,r.value={};for(const a in o)if(Cr(o,a)){const u=o[a],c=this.key["~run"]({value:a},s);if(c.issues){const f={type:"object",origin:"key",input:o,key:a,value:u};for(const _ of c.issues)_.path=[f],r.issues?.push(_);if(r.issues||(r.issues=c.issues),s.abortEarly){r.typed=!1;break}}const p=this.value["~run"]({value:u},s);if(p.issues){const f={type:"object",origin:"value",input:o,key:a,value:u};for(const _ of p.issues)_.path?_.path.unshift(f):_.path=[f],r.issues?.push(_);if(r.issues||(r.issues=p.issues),s.abortEarly){r.typed=!1;break}}(!c.typed||!p.typed)&&(r.typed=!1),c.typed&&(r.value[c.value]=p.value)}}else W(this,"type",r,s);return r}}}function P(e){return{kind:"schema",type:"string",reference:P,expects:"string",async:!1,message:e,get"~standard"(){return M(this)},"~run"(t,n){return typeof t.value=="string"?t.typed=!0:W(this,"type",t,n),t}}}function Jn(e){let t;if(e)for(const n of e)t?t.push(...n.issues):t=n.issues;return t}function Or(e,t){return{kind:"schema",type:"union",reference:Or,expects:Do(e.map(n=>n.expects),"|"),async:!1,options:e,message:t,get"~standard"(){return M(this)},"~run"(n,r){let s,o,a;for(const u of this.options){const c=u["~run"]({value:n.value},r);if(c.typed)if(c.issues)o?o.push(c):o=[c];else{s=c;break}else a?a.push(c):a=[c]}if(s)return s;if(o){if(o.length===1)return o[0];W(this,"type",n,r,{issues:Jn(o)}),n.typed=!0}else{if(a?.length===1)return a[0];W(this,"type",n,r,{issues:Jn(a)})}return n}}}function Lr(){return{kind:"schema",type:"unknown",reference:Lr,expects:"unknown",async:!1,get"~standard"(){return M(this)},"~run"(e){return e.typed=!0,e}}}function ve(e,t,n){const r=e["~run"]({value:t},xr(n));if(r.issues)throw new Pt(r.issues);return r.value}function ze(...e){return{...e[0],pipe:e,get"~standard"(){return M(this)},"~run"(t,n){for(const r of e)if(r.kind!=="metadata"){if(t.issues&&(r.kind==="schema"||r.kind==="transformation")){t.typed=!1;break}(!t.issues||!n.abortEarly&&!n.abortPipeEarly)&&(t=r["~run"](t,n))}return t}}}var No=Object.defineProperty,Vo=(e,t,n)=>t in e?No(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,It=(e,t,n)=>Vo(e,typeof t!="symbol"?t+"":t,n),Ho=Object.defineProperty,Uo=(e,t,n)=>t in e?Ho(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wo=(e,t,n)=>Uo(e,t+"",n);function Fo(e,t){return n=>n instanceof e&&n.type===t}function Mr(e,t){t||(t=[]);const n=Symbol(e);class r extends Error{constructor(...o){const a=typeof t=="function"?t(...o):typeof t=="string"?[t]:t||[];super(...a),Wo(this,"type",n),this.name=e}}return Object.defineProperty(r,"name",{value:e}),[r,Fo(r,n)]}const[zo,Go]=Mr("CancelledError","Promise was canceled"),[Yo]=Mr("TimeoutError",(e,t)=>[`Timeout reached: ${e}ms`,{cause:t}]),Dr=Symbol("Resolved");function Xn(e){return Array.isArray(e)&&e[0]===Dr}function Ko(e){return[Dr,e]}function Qn(e,t){return e.reject=t.reject,e.abort=t.abort,e}let I=class Ot extends Promise{constructor(t,n){let r,s;super((o,a)=>{let u,c;typeof t=="function"?(u=t,c=n):c=t;const p=[],f=b=>(...m)=>{const ce=b(...m);return p.forEach(xe=>xe()),ce},_=new AbortController,{signal:k}=_;s=b=>{!k.aborted&&_.abort(b)};const x=()=>k.reason,D=b=>{const m=()=>{b(x())};k.addEventListener("abort",m,!0);const ce=()=>{k.removeEventListener("abort",m,!0)};return p.push(ce),ce},ue=f(b=>{o(b),s(Ko(b))});r=f(b=>{a(b),s(b)}),c||(c={});const{abortSignal:Y,rejectOnAbort:K=!0}=c;if(Y)if(Y.aborted){const{reason:b}=Y;if(K)return r(b);s(b)}else{const b=()=>{s(Y.reason)};Y.addEventListener("abort",b),p.push(()=>{Y.removeEventListener("abort",b)})}K&&D(a);const{timeout:T}=c;if(T){const b=setTimeout(()=>{s(new Yo(T))},T);p.push(()=>{clearTimeout(b)})}const j=()=>k.aborted,B=()=>Xn(x()),J=()=>{const b=x();return Xn(b)?b[1]:void 0};try{const b=u&&u(ue,r,{abortReason:x,abortSignal:k,isAborted:j,isResolved:B,onAborted:D,onResolved:m=>D(()=>{B()&&m(J())}),resolved:J,throwIfAborted(){if(j())throw x()}});b instanceof Promise&&b.catch(r)}catch(b){r(b)}}),It(this,"abort"),It(this,"reject"),this.abort=s,this.reject=r}static fn(t,n){return new Ot(async(r,s,o)=>{try{r(await t(o))}catch(a){s(a)}},n)}static resolve(t){return this.fn(()=>t)}static reject(t){return new Ot((n,r)=>{r(t)})}cancel(){this.abort(new zo)}catch(t){return this.then(void 0,t)}finally(t){return Qn(super.finally(t),this)}then(t,n){return Qn(super.then(t,n),this)}};function Zn(e,t){return e.resolve=t.resolve,e}let Jo=class Lt extends I{constructor(t,n){let r,s;typeof t=="function"?(r=t,s=n):s=t;let o;super((a,u,c)=>{o=a,r&&r(a,u,c)},s),It(this,"resolve"),this.resolve=o}static fn(t,n){return new Lt((r,s,o)=>{try{Promise.resolve(t(o)).then(r,s)}catch(a){s(a)}},n)}static resolve(t){return this.fn(()=>t)}static reject(t){return new Lt((n,r)=>{r(t)})}catch(t){return this.then(void 0,t)}finally(t){return Zn(super.finally(t),this)}then(t,n){return Zn(super.then(t,n),this)}};function Br(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function Xo(e){return e.replace(/_[a-z]/g,t=>t[1].toUpperCase())}function Qo(e){return Object.entries(e).reduce((t,[n,r])=>(t[Xo(n)]=r,t),{})}function Mt(e){const t=Qo(e);for(const n in t){const r=t[n];r&&typeof r=="object"&&!(r instanceof Date)&&(t[n]=Array.isArray(r)?r.map(Mt):Mt(r))}return t}function Zo(e){return e.replace(/_([a-z])/g,(t,n)=>`-${n.toLowerCase()}`)}function Nr(e){return`tapps/${e}`}function X(e,t){sessionStorage.setItem(Nr(e),JSON.stringify(t))}function V(e){const t=sessionStorage.getItem(Nr(e));try{return t?JSON.parse(t):void 0}catch{}}function Qe(...e){const t=e.flat(1);return[t.push.bind(t),()=>{t.forEach(n=>{n()})}]}function Vr(e,t){t||(t={});const{textColor:n,bgColor:r,shouldLog:s}=t,o=s===void 0?!0:s,a=typeof o=="boolean"?()=>o:o,u=(c,p,...f)=>{if(p||a()){const _="font-weight:bold;padding:0 5px;border-radius:100px",[k,x,D]={log:["#0089c3","white","INFO"],error:["#ff0000F0","white","ERR"],warn:["#D38E15","white","WARN"]}[c];console[c](`%c${D} ${Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(new Date)}%c %c${e}`,`${_};background-color:${k};color:${x}`,"",`${_};${n?`color:${n};`:""}${r?`background-color:${r}`:""}`,...f)}};return[["log","forceLog"],["warn","forceWarn"],["error","forceError"]].reduce((c,[p,f])=>(c[p]=u.bind(void 0,p,!1),c[f]=u.bind(void 0,p,!0),c),{})}function Hr(e){return{lang:e?.lang??void 0,message:e?.message,abortEarly:e?.abortEarly??void 0,abortPipeEarly:e?.abortPipeEarly??void 0}}function ei(e,t){var n;return(n=void 0)==null?void 0:n.get(t)}function ti(e){var t,n;const r=typeof e;return r==="string"?`"${e}"`:r==="number"||r==="bigint"||r==="boolean"?`${e}`:r==="object"||r==="function"?(e&&((n=(t=Object.getPrototypeOf(e))==null?void 0:t.constructor)==null?void 0:n.name))??"null":r}function F(e,t,n,r,s){const o=s&&"input"in s?s.input:n.value,a=s?.expected??e.expects??null,u=s?.received??ti(o),c={kind:e.kind,type:e.type,input:o,expected:a,received:u,message:`Invalid ${t}: ${a?`Expected ${a} but r`:"R"}eceived ${u}`,requirement:e.requirement,path:s?.path,issues:s?.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},p=e.kind==="schema",f=s?.message??e.message??ei(e.reference,c.lang)??(p?(c.lang,void 0):null)??r.message??(c.lang,void 0);f&&(c.message=typeof f=="function"?f(c):f),p&&(n.typed=!1),n.issues?n.issues.push(c):n.issues=[c]}function Q(e){return{version:1,vendor:"valibot",validate(t){return e["~run"]({value:t},Hr())}}}function Ur(e,t){return Object.hasOwn(e,t)&&t!=="__proto__"&&t!=="prototype"&&t!=="constructor"}function ni(e,t){const n=[...new Set(e)];return n.length>1?`(${n.join(` ${t} `)})`:n[0]??"never"}var ri=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function Wr(e,t){return{kind:"validation",type:"check",reference:Wr,async:!1,expects:null,requirement:e,message:t,"~run"(n,r){return n.typed&&!this.requirement(n.value)&&F(this,"input",n,r),n}}}function Fr(e){return{kind:"validation",type:"integer",reference:Fr,async:!1,expects:null,requirement:Number.isInteger,message:e,"~run"(t,n){return t.typed&&!this.requirement(t.value)&&F(this,"integer",t,n),t}}}function se(e){return{kind:"transformation",type:"transform",reference:se,async:!1,operation:e,"~run"(t){return t.value=this.operation(t.value),t}}}function zr(e,t,n){return typeof e.default=="function"?e.default(t,n):e.default}function si(e,t){return!e["~run"]({value:t},{abortEarly:!0}).issues}function Te(e){return{kind:"schema",type:"boolean",reference:Te,expects:"boolean",async:!1,message:e,get"~standard"(){return Q(this)},"~run"(t,n){return typeof t.value=="boolean"?t.typed=!0:F(this,"type",t,n),t}}}function Gr(e){return{kind:"schema",type:"date",reference:Gr,expects:"Date",async:!1,message:e,get"~standard"(){return Q(this)},"~run"(t,n){return t.value instanceof Date?isNaN(t.value)?F(this,"type",t,n,{received:'"Invalid Date"'}):t.typed=!0:F(this,"type",t,n),t}}}function Yr(e,t){return{kind:"schema",type:"instance",reference:Yr,expects:e.name,async:!1,class:e,message:t,get"~standard"(){return Q(this)},"~run"(n,r){return n.value instanceof this.class?n.typed=!0:F(this,"type",n,r),n}}}function Kt(e){return{kind:"schema",type:"lazy",reference:Kt,expects:"unknown",async:!1,getter:e,get"~standard"(){return Q(this)},"~run"(t,n){return this.getter(t.value)["~run"](t,n)}}}function Ee(e,t){return{kind:"schema",type:"loose_object",reference:Ee,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return Q(this)},"~run"(n,r){var s;const o=n.value;if(o&&typeof o=="object"){n.typed=!0,n.value={};for(const a in this.entries){const u=this.entries[a];if(a in o||(u.type==="exact_optional"||u.type==="optional"||u.type==="nullish")&&u.default!==void 0){const c=a in o?o[a]:zr(u),p=u["~run"]({value:c},r);if(p.issues){const f={type:"object",origin:"value",input:o,key:a,value:c};for(const _ of p.issues)_.path?_.path.unshift(f):_.path=[f],(s=n.issues)==null||s.push(_);if(n.issues||(n.issues=p.issues),r.abortEarly){n.typed=!1;break}}p.typed||(n.typed=!1),n.value[a]=p.value}else if(u.type!=="exact_optional"&&u.type!=="optional"&&u.type!=="nullish"&&(F(this,"key",n,r,{input:void 0,expected:`"${a}"`,path:[{type:"object",origin:"key",input:o,key:a,value:o[a]}]}),r.abortEarly))break}if(!n.issues||!r.abortEarly)for(const a in o)Ur(o,a)&&!(a in this.entries)&&(n.value[a]=o[a])}else F(this,"type",n,r);return n}}}function Ze(e){return{kind:"schema",type:"number",reference:Ze,expects:"number",async:!1,message:e,get"~standard"(){return Q(this)},"~run"(t,n){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:F(this,"type",t,n),t}}}function C(e,t){return{kind:"schema",type:"optional",reference:C,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return Q(this)},"~run"(n,r){return n.value===void 0&&(this.default!==void 0&&(n.value=zr(this,n,r)),n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function Kr(e,t,n){return{kind:"schema",type:"record",reference:Kr,expects:"Object",async:!1,key:e,value:t,message:n,get"~standard"(){return Q(this)},"~run"(r,s){var o,a;const u=r.value;if(u&&typeof u=="object"){r.typed=!0,r.value={};for(const c in u)if(Ur(u,c)){const p=u[c],f=this.key["~run"]({value:c},s);if(f.issues){const k={type:"object",origin:"key",input:u,key:c,value:p};for(const x of f.issues)x.path=[k],(o=r.issues)==null||o.push(x);if(r.issues||(r.issues=f.issues),s.abortEarly){r.typed=!1;break}}const _=this.value["~run"]({value:p},s);if(_.issues){const k={type:"object",origin:"value",input:u,key:c,value:p};for(const x of _.issues)x.path?x.path.unshift(k):x.path=[k],(a=r.issues)==null||a.push(x);if(r.issues||(r.issues=_.issues),s.abortEarly){r.typed=!1;break}}(!f.typed||!_.typed)&&(r.typed=!1),f.typed&&(r.value[f.value]=_.value)}}else F(this,"type",r,s);return r}}}function $(e){return{kind:"schema",type:"string",reference:$,expects:"string",async:!1,message:e,get"~standard"(){return Q(this)},"~run"(t,n){return typeof t.value=="string"?t.typed=!0:F(this,"type",t,n),t}}}function er(e){let t;if(e)for(const n of e)t?t.push(...n.issues):t=n.issues;return t}function Jt(e,t){return{kind:"schema",type:"union",reference:Jt,expects:ni(e.map(n=>n.expects),"|"),async:!1,options:e,message:t,get"~standard"(){return Q(this)},"~run"(n,r){let s,o,a;for(const u of this.options){const c=u["~run"]({value:n.value},r);if(c.typed)if(c.issues)o?o.push(c):o=[c];else{s=c;break}else a?a.push(c):a=[c]}if(s)return s;if(o){if(o.length===1)return o[0];F(this,"type",n,r,{issues:er(o)}),n.typed=!0}else{if(a?.length===1)return a[0];F(this,"type",n,r,{issues:er(a)})}return n}}}function Jr(){return{kind:"schema",type:"unknown",reference:Jr,expects:"unknown",async:!1,get"~standard"(){return Q(this)},"~run"(e){return e.typed=!0,e}}}function Xr(e,t,n){const r=e["~run"]({value:t},Hr(n));if(r.issues)throw new ri(r.issues);return r.value}function oe(...e){return{...e[0],pipe:e,get"~standard"(){return Q(this)},"~run"(t,n){for(const r of e)if(r.kind!=="metadata"){if(t.issues&&(r.kind==="schema"||r.kind==="transformation")){t.typed=!1;break}(!t.issues||!n.abortEarly&&!n.abortPipeEarly)&&(t=r["~run"](t,n))}return t}}}function oi(e){return e.replace(/_[a-z]/g,t=>t[1].toUpperCase())}function ii(e){return Object.entries(e).reduce((t,[n,r])=>(t[oi(n)]=r,t),{})}function Dt(e){const t=ii(e);for(const n in t){const r=t[n];r&&typeof r=="object"&&!(r instanceof Date)&&(t[n]=Array.isArray(r)?r.map(Dt):Dt(r))}return t}function Xt(e){return se(t=>e?Dt(t):t)}function Qr(e){return t=>oe(e,Xt(t))}function ai(e){return(t,n)=>Xr(oe(e,Xt(n)),t)}function Qt(){return se(JSON.parse)}function Zt(e){const t=Qr(e);return n=>oe($(),Qt(),t(n))}function Zr(e){return se(t=>{const n={};return new URLSearchParams(t).forEach((r,s)=>{const o=n[s];Array.isArray(o)?o.push(r):o===void 0?n[s]=r:n[s]=[o,r]}),Xr(e,n)})}function es(e){return t=>oe(Jt([$(),Yr(URLSearchParams)]),Zr(e),Xt(t))}const tr=C(Kt(()=>fi())),ui=Ee({id:Ze(),photo_url:C($()),type:$(),title:$(),username:C($())}),ci=Ee({added_to_attachment_menu:C(Te()),allows_write_to_pm:C(Te()),first_name:$(),id:Ze(),is_bot:C(Te()),is_premium:C(Te()),last_name:C($()),language_code:C($()),photo_url:C($()),username:C($())}),li=Ee({auth_date:oe($(),se(e=>new Date(Number(e)*1e3)),Gr()),can_send_after:C(oe($(),se(Number),Fr())),chat:C(Kt(()=>pi())),chat_type:C($()),chat_instance:C($()),hash:$(),query_id:C($()),receiver:tr,start_param:C($()),signature:$(),user:tr}),pi=Zt(ui),fi=Zt(ci),_i=es(li);function $e(e){return/^#[\da-f]{6}$/i.test(e)}function di(e){return/^#[\da-f]{3}$/i.test(e)}function hi(e){const t=e.replace(/\s/g,"").toLowerCase();if($e(t))return t;if(di(t)){let r="#";for(let s=0;s<3;s+=1)r+=t[1+s].repeat(2);return r}const n=t.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/)||t.match(/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),\d{1,3}\)$/);if(!n)throw new Error(`Value "${e}" does not satisfy any of known RGB formats.`);return n.slice(1).reduce((r,s)=>r+parseInt(s,10).toString(16).padStart(2,"0"),"#")}const ts=Qr(Kr($(),oe(Jt([$(),Ze()]),se(e=>typeof e=="number"?`#${(e&16777215).toString(16).padStart(6,"0")}`:e),Wr($e)))),$t=C(oe($(),se(e=>e==="1"))),nr=Zt(ts()),yi=Ee({tgWebAppBotInline:$t,tgWebAppData:C(_i()),tgWebAppDefaultColors:C(nr()),tgWebAppFullscreen:$t,tgWebAppPlatform:$(),tgWebAppShowSettings:$t,tgWebAppStartParam:C($()),tgWebAppThemeParams:nr(),tgWebAppVersion:$()}),ns=es(yi),rs=ai(ns()),bi=Ee({eventType:$(),eventData:C(Jr())});function mi(e){try{return si(ns(),e)}catch{return!1}}function gi(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map(function(s){s(n)}),(r=e.get("*"))&&r.slice().map(function(s){s(t,n)})}}}let ge;function vi(e,t){ge&&ge.set(e,t)||t()}function Oe(e){if(ge)return e();ge=new Map;try{e()}finally{ge.forEach(t=>t()),ge=void 0}}function ke(e,t){t||(t={});const n=t.equals||Object.is;let r=[],s=e;const o=p=>{if(!n(s,p)){const f=s;s=p,vi(c,()=>{[...r].forEach(([_,k])=>{_(p,f),k&&u(_,!0)})})}};function a(p){const f=typeof p!="object"?{once:p}:p;return{once:f.once||!1,signal:f.signal||!1}}const u=(p,f)=>{const _=a(f),k=r.findIndex(([x,D])=>x===p&&D.once===_.once&&D.signal===_.signal);k>=0&&r.splice(k,1)},c=Object.assign(function(){return wi(c),s},{destroy(){r=[]},set:o,reset(){o(e)},sub(p,f){return r.push([p,a(f)]),()=>u(p,f)},unsub:u,unsubAll(){r=r.filter(p=>p[1].signal)}});return c}const Re=[];function wi(e){Re.length&&Re[Re.length-1].add(e)}function Ei(e,t){let n=new Set,r;function s(){return r||(r=ke(a(),t))}function o(){s().set(a())}function a(){n.forEach(p=>{p.unsub(o,{signal:!0})});const u=new Set;let c;Re.push(u);try{c=e()}finally{Re.pop()}return u.forEach(p=>{p.sub(o,{signal:!0})}),n=u,c}return Object.assign(function(){return s()()},{destroy(){s().destroy()},sub(...u){return s().sub(...u)},unsub(...u){s().unsub(...u)},unsubAll(...u){s().unsubAll(...u)}})}var $i=Object.defineProperty,ki=(e,t,n)=>t in e?$i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bt=(e,t,n)=>ki(e,typeof t!="symbol"?t+"":t,n);function ss(e,t){return n=>n instanceof e&&n.type===t}function O(e,t){t||(t=[]);const n=Symbol(e);class r extends Error{constructor(...o){const a=typeof t=="function"?t(...o):typeof t=="string"?[t]:t||[];super(...a),Bt(this,"type",n),this.name=e}}return Object.defineProperty(r,"name",{value:e}),[r,ss(r,n)]}function Ai(e,t,n){const r=Symbol(e);class s extends O(e,n)[0]{constructor(...a){super(...a),Bt(this,"data"),Bt(this,"type",r),this.data=t(...a)}}return Object.defineProperty(s,"name",{value:e}),[s,ss(s,r)]}function os(e){return Gt(U({TelegramWebviewProxy:U({postEvent:Yt()})}),e)}function Si(){try{return window.self!==window.top}catch{return!0}}function xi(e,t){const n=new Map,r=gi(),s=(o,a,u)=>{u||(u=!1);const c=n.get(o)||new Map;n.set(o,c);const p=c.get(a)||[];c.set(a,p);const f=p.findIndex(_=>_[1]===u);if(f>=0&&(r.off(o,p[f][0]),p.splice(f,1),!p.length&&(c.delete(a),!c.size))){const _=n.size;n.delete(o),_&&!n.size&&t()}};return[function(o,a,u){!n.size&&e();const c=()=>{s(o,a,u)},p=(...k)=>{u&&c(),o==="*"?a(k):a(...k)};r.on(o,p);const f=n.get(o)||new Map;n.set(o,f);const _=f.get(a)||[];return f.set(a,_),_.push([p,u||!1]),c},s,r.emit,function(){const o=n.size;r.all.clear(),n.clear(),o&&t()}]}function kt(e,t){window.dispatchEvent(new MessageEvent("message",{data:JSON.stringify({eventType:e,eventData:t}),source:window.parent}))}let Ci=!1;const Le=ke(Vr("Bridge",{bgColor:"#9147ff",textColor:"white",shouldLog(){return Ci}}));function is(e,t,n,r){Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:n,set:r})}function rr(e,t){const n=e[t];is(e,t,()=>n,r=>{Object.entries(r).forEach(([s,o])=>{n[s]=o})})}function sr(e,t,n){Object.defineProperty(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n})}function At(e,t,n){const r=e[t],s=[n];typeof r=="function"&&s.push(r);const o=(...u)=>{s.forEach(c=>{c(...u)})},a=Object.assign((...u)=>{o(...u)},{unwrap(){const{length:u}=s;if(u===1){delete e[t];return}if(u===2){sr(e,t,s[1]);return}s.unshift(1),sr(e,t,o)}});is(e,t,()=>a,u=>{s.push(u)})}const ji={clipboard_text_received:U({req_id:P(),data:je(P())}),custom_method_invoked:U({req_id:P(),result:Ye(Lr()),error:Ye(P())}),popup_closed:je(U({button_id:je(P(),()=>{})}),{}),viewport_changed:U({height:Ge(),width:je(Ge(),()=>window.innerWidth),is_state_stable:qt(),is_expanded:qt()}),theme_changed:U({theme_params:ts()})};function or(e){if(e.source!==window.parent)return;let t;try{t=ve(ze(P(),Qt(),bi),e.data)}catch{return}const{eventType:n,eventData:r}=t,s=ji[n];let o;try{o=s?ve(s,r):r}catch(a){return Le().forceError([`An error occurred processing the "${n}" event from the Telegram application.`,"Please, file an issue here:","https://github.com/Telegram-Mini-Apps/telegram-apps/issues/new/choose"].join(`
`),t,a)}Ti(n,o)}const[q,ne,Ti]=xi(()=>{const e=window;!e.TelegramGameProxy&&(e.TelegramGameProxy={}),At(e.TelegramGameProxy,"receiveEvent",kt),rr(e,"TelegramGameProxy"),!e.Telegram&&(e.Telegram={}),!e.Telegram.WebView&&(e.Telegram.WebView={}),At(e.Telegram.WebView,"receiveEvent",kt),rr(e.Telegram,"WebView"),At(e,"TelegramGameProxy_receiveEvent",kt),window.addEventListener("message",or)},()=>{[["TelegramGameProxy_receiveEvent"],["TelegramGameProxy","receiveEvent"],["Telegram","WebView","receiveEvent"]].forEach(e=>{const t=window;let n=[void 0,t];for(const o of e)if(n=[n[1],n[1][o]],!n[1])return;const[r,s]=n;"unwrap"in s&&(s.unwrap(),r&&r!==t&&!Object.keys(r).length&&delete t[e[0]])}),window.removeEventListener("message",or)}),[Ri]=O("MethodUnsupportedError",(e,t)=>[`Method "${e}" is unsupported in Mini Apps version ${t}`]),[Pi]=O("MethodParameterUnsupportedError",(e,t,n)=>[`Parameter "${t}" of "${e}" method is unsupported in Mini Apps version ${n}`]),[qi]=Ai("LaunchParamsRetrieveError",e=>({errors:e}),e=>[["Unable to retrieve launch parameters from any known source. Perhaps, you have opened your app outside Telegram?","ðŸ“– Refer to docs for more information:","https://docs.telegram-mini-apps.com/packages/telegram-apps-bridge/environment","","Collected errors:",...e.map(([t,n])=>`Source: ${t} / ${n instanceof Error?n.message:String(n)}`)].join(`
`)]);O("InvalidLaunchParamsError",(e,t)=>[`Invalid value for launch params: ${e}`,{cause:t}]);const[Ii]=O("UnknownEnvError"),[Oi]=O("InvokeCustomMethodError",e=>[`Server returned error: ${e}`]),Li=ke((...e)=>{try{window.parent.postMessage(...e)}catch(t){t instanceof SyntaxError?Le().forceError("Unable to call window.parent.postMessage due to incorrectly configured target origin. Use the setTargetOrigin method to allow this origin to receive events",t):Le().forceError(t)}}),Mi=(...e)=>Li()(...e),Di=ke("https://web.telegram.org");function en(e,t){Le().log("Posting event:",t?{eventType:e,eventData:t}:{eventType:e});const n=window,r=JSON.stringify({eventType:e,eventData:t});if(Si())return Mi(r,Di());if(os(n)){n.TelegramWebviewProxy.postEvent(e,JSON.stringify(t));return}if(Gt(U({external:U({notify:Yt()})}),n)){n.external.notify(r);return}throw new Ii}function tn(e,t,n){n||(n={});const{capture:r}=n,[s,o]=Qe();return new I(a=>{(Array.isArray(t)?t:[t]).forEach(u=>{s(q(u,c=>{(!r||(Array.isArray(t)?r({event:u,payload:c}):r(c)))&&a(c)}))}),(n.postEvent||en)(e,n.params)},n).finally(o)}const ir="launchParams";function ar(e){return e.replace(/^[^?#]*[?#]/,"").replace(/[?#]/g,"&")}function as(){const e=[];for(const[t,n]of[[()=>ar(window.location.href),"window.location.href"],[()=>{const r=performance.getEntriesByType("navigation")[0];return r&&ar(r.name)},"performance navigation entries"],[()=>V(ir),"local storage"]]){const r=t();if(!r){e.push([n,new Error("Source is empty")]);continue}if(mi(r))return X(ir,r),r;try{rs(r)}catch(s){e.push([n,s])}}throw new qi(e)}function et(e){const t=rs(as());return e?Mt(t):t}function ur(e,t){try{return et(),!0}catch{return!1}return I.fn(async n=>{if(os(window))return!0;try{return await tn("web_app_request_theme","theme_changed",n),!0}catch{return!1}},{timeout:100})}function Bi(){return new URLSearchParams(as()).get("tgWebAppData")||void 0}function Ni(e){return({req_id:t})=>t===e}function cr(e){return e.split(".").map(Number)}function Vi(e,t){const n=cr(e),r=cr(t),s=Math.max(n.length,r.length);for(let o=0;o<s;o+=1){const a=n[o]||0,u=r[o]||0;if(a!==u)return a>u?1:-1}return 0}function R(e,t){return Vi(e,t)<=0}function fe(e,t,n){if(typeof n=="string"){if(e==="web_app_open_link"){if(t==="try_instant_view")return R("6.4",n);if(t==="try_browser")return R("7.6",n)}if(e==="web_app_set_header_color"&&t==="color")return R("6.9",n);if(e==="web_app_close"&&t==="return_back")return R("7.6",n);if(e==="web_app_setup_main_button"&&t==="has_shine_effect")return R("7.10",n)}switch(e){case"web_app_open_tg_link":case"web_app_open_invoice":case"web_app_setup_back_button":case"web_app_set_background_color":case"web_app_set_header_color":case"web_app_trigger_haptic_feedback":return R("6.1",t);case"web_app_open_popup":return R("6.2",t);case"web_app_close_scan_qr_popup":case"web_app_open_scan_qr_popup":case"web_app_read_text_from_clipboard":return R("6.4",t);case"web_app_switch_inline_query":return R("6.7",t);case"web_app_invoke_custom_method":case"web_app_request_write_access":case"web_app_request_phone":return R("6.9",t);case"web_app_setup_settings_button":return R("6.10",t);case"web_app_biometry_get_info":case"web_app_biometry_open_settings":case"web_app_biometry_request_access":case"web_app_biometry_request_auth":case"web_app_biometry_update_token":return R("7.2",t);case"web_app_setup_swipe_behavior":return R("7.7",t);case"web_app_share_to_story":return R("7.8",t);case"web_app_setup_secondary_button":case"web_app_set_bottom_bar_color":return R("7.10",t);case"web_app_request_safe_area":case"web_app_request_content_safe_area":case"web_app_request_fullscreen":case"web_app_exit_fullscreen":case"web_app_set_emoji_status":case"web_app_add_to_home_screen":case"web_app_check_home_screen":case"web_app_request_emoji_status_access":case"web_app_check_location":case"web_app_open_location_settings":case"web_app_request_file_download":case"web_app_request_location":case"web_app_send_prepared_message":case"web_app_start_accelerometer":case"web_app_start_device_orientation":case"web_app_start_gyroscope":case"web_app_stop_accelerometer":case"web_app_stop_device_orientation":case"web_app_stop_gyroscope":case"web_app_toggle_orientation_lock":return R("8.0",t);case"web_app_device_storage_clear":case"web_app_device_storage_get_key":case"web_app_device_storage_save_key":case"web_app_secure_storage_clear":case"web_app_secure_storage_get_key":case"web_app_secure_storage_restore_key":case"web_app_secure_storage_save_key":return R("9.0",t);case"web_app_hide_keyboard":return R("9.1",t);default:return["iframe_ready","iframe_will_reload","web_app_close","web_app_data_send","web_app_expand","web_app_open_link","web_app_ready","web_app_request_theme","web_app_request_viewport","web_app_setup_main_button","web_app_setup_closing_behavior"].includes(e)}}function Hi(e,t){t||(t="strict");const n=typeof t=="function"?t:r=>{const{method:s,version:o}=r,a="param"in r?new Pi(s,r.param,o):new Ri(s,o);if(t==="strict")throw a;return Le().forceWarn(a.message)};return(r,s)=>fe(r,e)?r==="web_app_set_header_color"&&Gt(U({color:Tr()}),s)&&!fe(r,"color",e)?n({version:e,method:r,param:"color"}):en(r,s):n({version:e,method:r})}function Ui(e,t,n,r){return tn("web_app_invoke_custom_method","custom_method_invoked",{...r||{},params:{method:e,params:t,req_id:n},capture:Ni(n)}).then(({result:s,error:o})=>{if(o)throw new Oi(o);return s})}function Wi(){return performance.getEntriesByType("navigation")[0]}function z(){const e=Wi();return!!e&&e.type==="reload"}function Ae(e,t){return ke(e,t)}function A(e,t){return Ei(e,t)}function w(e,t){const n=Ae(e,t);return[n,A(n)]}let Fi=!1;const Nt=ke(Vr("Bridge",{bgColor:"forestgreen",textColor:"white",shouldLog(){return Fi}})),St=Ae(0),us=Ae(en),[lr,tt]=w({tgWebAppPlatform:"unknown",tgWebAppVersion:"0.0"}),re=A(()=>tt().tgWebAppVersion);function zi(e){e||(e={});const{postEvent:t}=e,n=e.launchParams||et();lr.set(n),us.set(typeof t=="function"?t:Hi(n.tgWebAppVersion)),Nt().log("The package was configured. Launch params:",lr())}function Gi(){return St.set(St()+1),St().toString()}function Ve(e,t,n){return Ui(e,t,Gi(),{...n||{},postEvent:E})}const L=(e,t,n)=>(n||(n={}),n.postEvent||(n.postEvent=E),tn(e,t,n)),E=(e,t)=>us()(e,t);function Yi(e){return A(()=>fe(e,re()))}function de(e){return[e]}const[nn]=O("CSSVarsBoundError","CSS variables are already bound"),[cs]=O("NotAvailableError",de);O("InvalidEnvError",de);const[Ce]=O("FunctionNotAvailableError",de),[te]=O("InvalidArgumentsError",(e,t)=>[e,{cause:t}]),[Ki]=O("ConcurrentCallError",de),[Ji]=O("SetEmojiStatusError",e=>[`Failed to set emoji status: ${e}`]),[Xi]=O("AccessDeniedError",de),[Qi]=O("FullscreenFailedError",de);O("ShareMessageError",de);const[rn]=O("UnknownThemeParamsKeyError",e=>[`Unknown theme params key passed: ${e}`]);function pr(){return typeof window>"u"}function sn(e,t,n){n||(n={});const{isSupported:r,isMounted:s,isMounting:o,component:a,supports:u}=n||{},c=`${a?`${a}.`:""}${e}()`,p=r?Array.isArray(r)||typeof r=="object"&&"any"in r?r:[r]:void 0;function f(T){if(u){const j=u[T];return fe(j[0],j[1],re())}return!0}function _(){if(!p)return;function T(J){return typeof J=="function"?J():fe(J,re())?void 0:`it is unsupported in Mini Apps version ${re()}`}const j=Array.isArray(p)?p:p.any,B=j.map(T).filter(Boolean);return Array.isArray(p)?B[0]:B.length===j.length?B[B.length-1]:void 0}function k(...T){for(const j in u)if(u[j][2](...T)&&!f(j))return`option ${j} is not supported in Mini Apps version ${re()}`}let x;if(u){x={};for(const T in u)x[T]=A(()=>f(T))}const D=A(()=>!_()),ue=A(()=>re()!=="0.0"),Y=A(()=>!s||s()),K=A(()=>ur()&&!pr()&&ue()&&D()&&Y());return Object.assign((...T)=>{const j=`Unable to call the ${c} ${a?"method":"function"}:`;if(pr()||!ur())throw new Ce(`${j} it can't be called outside Mini Apps`);if(!ue())throw new Ce(`${j} the SDK was not initialized. Use the SDK init() function`);const B=_();if(B)throw new Ce(`${j} ${B}`);const J=k(...T);if(J)throw new Ce(`${j} ${J}`);if(!Y()){const b=o&&o()?"mounting. Wait for the mount completion":`unmounted. Use the ${a}.mount() method`;throw new Ce(`${j} the component is ${b}`)}return t(...T)},t,{isAvailable:K,ifAvailable(...T){return K()?[!0,t(...T)]:[!1]}},p?{isSupported:D}:{},x?{supports:x}:{})}function nt(e,t){return t||(t={}),(n,r,s,o)=>sn(n,r,{...t,isSupported:s||t.isSupported,supports:o,component:e})}function ie(e,t,n){return nt(e,{isSupported:n,isMounted:t})}function G(e,t){return nt(e,{isSupported:t})}const rt="web_app_setup_back_button",ls="back_button_pressed",st="backButton",[fr,Zi]=w(!1),[Ke,ea]=w(!1),ta=Yi(rt),ps=ie(st,Ke,rt),on=G(st,rt),na=ps("hide",()=>{an(!1)}),ra=on("mount",()=>{Ke()||(an(z()&&V(st)||!1),Ke.set(!0))});function an(e){e!==fr()&&(E(rt,{is_visible:e}),X(st,e),fr.set(e))}const sa=on("onClick",e=>q(ls,e)),oa=on("offClick",e=>{ne(ls,e)}),ia=ps("show",()=>{an(!0)});function aa(){Ke.set(!1)}const Uc=Object.freeze(Object.defineProperty({__proto__:null,hide:na,isMounted:ea,isSupported:ta,isVisible:Zi,mount:ra,offClick:oa,onClick:sa,show:ia,unmount:aa},Symbol.toStringTag,{value:"Module"}));function H(e,t,n){n||(n={});const{promise:r,error:s}=n,[o,a]=r?[r,A(r)]:w(),[u,c]=s?[s,A(s)]:w();return[Object.assign((...p)=>{if(o()){const _=new Ki(t);return u.set(_),I.reject(_)}Oe(()=>{o.set(e(...p)),u.set(void 0)});let f;return o().catch(_=>{throw f=_,_}).finally(()=>{Oe(()=>{o.set(void 0),u.set(f)})})},e),[o,a,A(()=>!!o())],[u,c]]}function He(e,t,n){const[r,...s]=H(t,`The ${e} component is already mounting`),[o,a]=w(!1);return[(...u)=>o()?I.resolve():r(...u).then(c=>{Oe(()=>{o.set(!0),n(c)})}),...s,[o,a]]}const[fs]=w({available:!1,type:"",accessGranted:!1,accessRequested:!1,deviceId:"",tokenSaved:!1}),_r="web_app_biometry_get_info",ua=sn("requestBiometry",e=>L(_r,"biometry_info_received",e),{isSupported:_r});function _s(e){if(!Go(e))throw e}function un(e){const t=e();t&&t.catch(_s).cancel()}const Me="biometry",cn="web_app_biometry_request_auth",ds="biometry_info_received",ca=e=>{ot(ln(e))};function hs(){throw new cs("Biometry is not available")}function ln(e){let t=!1,n=!1,r="",s=!1,o="",a=!1;return e.available&&(t=!0,n=e.token_saved,r=e.device_id,s=e.access_requested,o=e.type,a=e.access_granted),{available:t,tokenSaved:n,deviceId:r,type:o,accessGranted:a,accessRequested:s}}const[la,pa,fa,ys]=He(Me,e=>{const t=z()&&V(Me);return t?I.resolve(t):ua({abortSignal:e}).then(ln)},e=>{q(ds,ca),ot(e)}),bs=G(Me,cn),pn=ie(Me,ys[0],cn);bs("mount",la);const[,Wc,Fc]=pa,[,zc]=fa,[Gc,Yc]=ys,[_a,da,ha]=H(e=>I.fn(async t=>{const n=fs();n.available||hs();const r=await L(cn,"biometry_auth_requested",{...e,...t,params:{reason:((e||{}).reason||"").trim()}}),{token:s}=r;return typeof s=="string"&&ot({...n,token:s}),r},e),"Biometry authentication is already in progress");pn("authenticate",_a);const[,Kc,Jc]=da,[,Xc]=ha;bs("openSettings",()=>{E("web_app_biometry_open_settings")});const[ya,ba,ma]=H(e=>I.fn(async t=>{const n=await L("web_app_biometry_request_access",ds,{...e,...t,params:{reason:(e||{}).reason||""}}).then(ln);return n.available||hs(),ot(n),n.accessGranted},e),"Biometry access request is already in progress");pn("requestAccess",ya);const[,Qc,Zc]=ba,[,el]=ma;function ot(e){fs.set(e),X(Me,e)}pn("updateToken",e=>(e||(e={}),L("web_app_biometry_update_token","biometry_token_updated",{...e,params:{token:e.token||"",reason:e.reason}}).then(t=>t.status)));function it(e,t){return nt(e,{isMounted:t})}const ae=nt,at="closingBehavior",[dr]=w(!1),[hr,ga]=w(!1),ms=it(at,ga),va=ae(at);ms("disableConfirmation",()=>{fn(!1)});ms("enableConfirmation",()=>{fn(!0)});va("mount",()=>{hr()||(fn(z()&&V(at)||!1),hr.set(!0))});function fn(e){e!==dr()&&(E("web_app_setup_closing_behavior",{need_confirmation:e}),X(at,e),dr.set(e))}const wa="web_app_invoke_custom_method",Ue=G("cloudStorage",wa),Ea=Ue("deleteItem",(e,t)=>{const n=Array.isArray(e)?e:[e];return n.length?Ve("deleteStorageValues",{keys:n},t).then():I.resolve()});function $a(e,t){const n=Array.isArray(e)?e:[e];return n.length?Ve("getStorageValues",{keys:n},t).then(r=>{const s={...n.reduce((o,a)=>(o[a]="",o),{}),...ve(Ir(P(),P()),r)};return typeof e=="string"?s[e]:s}):I.resolve(Array.isArray(e)?{}:"")}Ue("getItem",$a);const ka=Ue("getKeys",e=>Ve("getStorageKeys",{},e).then(t=>ve(Rr(P()),t)));Ue("setItem",(e,t,n)=>Ve("saveStorageValue",{key:e,value:t},n).then());Ue("clear",e=>ka(e).then(Ea));const ut="web_app_trigger_haptic_feedback",_n=G("hapticFeedback",ut);_n("impactOccurred",e=>{E(ut,{type:"impact",impact_style:e})});_n("notificationOccurred",e=>{E(ut,{type:"notification",notification_type:e})});_n("selectionChanged",()=>{E(ut,{type:"selection_change"})});const[gs,Aa]=w(void 0);function ee(e){return A(()=>{const t=gs();return t?t[e]:void 0})}const vs=ee("auth_date"),ws=ee("can_send_after"),Sa=A(()=>{const e=vs(),t=ws();return t&&e?new Date(e.getTime()+t*1e3):void 0}),xa=ee("chat"),Ca=ee("chat_type"),ja=ee("chat_instance"),Ta=ee("hash"),Ra=ee("query_id"),[Pa,qa]=w(),Ia=ee("receiver");function Oa(){const e=et();gs.set(e.tgWebAppData),Pa.set(Bi())}const La=ee("start_param"),Ma=ee("user"),tl=Object.freeze(Object.defineProperty({__proto__:null,authDate:vs,canSendAfter:ws,canSendAfterDate:Sa,chat:xa,chatInstance:ja,chatType:Ca,hash:Ta,queryId:Ra,raw:qa,receiver:Ia,restore:Oa,startParam:La,state:Aa,user:Ma},Symbol.toStringTag,{value:"Module"})),Es="web_app_open_invoice",Da=G("invoice",Es);function Ba(e,t,n){let r;if(t==="url"){const{hostname:s,pathname:o}=new URL(e,window.location.href);if(s!=="t.me")throw new te(`Link has unexpected hostname: ${s}`);const a=o.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/);if(!a)throw new te('Expected to receive a link with a pathname in format "/invoice/{slug}" or "/${slug}"');[,,r]=a}else r=e,n=t;return L(Es,"invoice_closed",{...n,params:{slug:r},capture:s=>r===s.slug}).then(s=>s.status)}const[Na,Va,Ha]=H(Ba,"Invoice is already opened");Da("open",Na);const[,nl,rl]=Va,[,sl]=Ha,Pe="locationManager",$s="web_app_check_location",yr="web_app_open_location_settings",Vt=Ae({available:!1,accessGranted:!1,accessRequested:!1});function Ua(e){let t=!1,n,r;return e.available&&(t=!0,n=e.access_requested,r=e.access_granted),{available:t,accessGranted:r||!1,accessRequested:n||!1}}const[Wa,Fa,za,ks]=He(Pe,e=>{const t=z()&&V(Pe);return t?I.resolve(t):L("web_app_check_location","location_checked",e).then(Ua)},e=>{Vt.set(e),X(Pe,e)}),As=G(Pe,$s),Ga=ie(Pe,ks[0],$s);As("mount",Wa);const[,ol,il]=Fa,[,al]=za,[ul,cl]=ks,[Ya,Ka,Ja]=H(e=>L("web_app_request_location","location_requested",e).then(t=>{if(!t.available)throw Vt.set({...Vt(),available:!1}),new cs("Location data tracking is not available");const{available:n,...r}=t;return r}),"Location request is currently in progress");Ga("requestLocation",Ya);const[,ll,pl]=Ka,[,fl]=Ja;As("openSettings",()=>{E(yr)},yr);function dn(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=r)}return t}function Xa(e){const t=hi(e);return Math.sqrt([.299,.587,.114].reduce((n,r,s)=>{const o=parseInt(t.slice(1+s*2,1+(s+1)*2),16);return n+o*o*r},0))<120}const[xt]=w(!1),[pe,We]=w({});function hn(e){return A(()=>pe()[e])}const Ss=hn("button_color"),Qa=hn("button_text_color"),Za=hn("secondary_bg_color");function he(e){return A(()=>yn()[e])}const qe=Ae({hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,text:"Continue"}),yn=A(()=>{const e=qe();return{...e,backgroundColor:e.backgroundColor||Ss()||"#2481cc",textColor:e.textColor||Qa()||"#ffffff"}}),[Ht,xs]=w(!1),eu=he("backgroundColor"),tu=he("hasShineEffect"),nu=he("isEnabled"),ru=he("isLoaderVisible"),su=he("isVisible"),ou=he("text"),iu=he("textColor"),au="web_app_setup_main_button",Cs="main_button_pressed",ct="mainButton",bn=ae(ct),uu=it(ct,xs),cu=bn("mount",()=>{if(!Ht()){const e=z()&&V(ct);e&&qe.set(e),Ht.set(!0)}}),lu=bn("onClick",e=>q(Cs,e)),pu=bn("offClick",e=>{ne(Cs,e)}),fu=uu("setParams",e=>{qe.set({...qe(),...dn(e)}),X(ct,qe());const t=yn();t.text&&E(au,{color:t.backgroundColor,has_shine_effect:t.hasShineEffect,is_active:t.isEnabled,is_progress_visible:t.isLoaderVisible,is_visible:t.isVisible,text:t.text,text_color:t.textColor})});function _u(){Ht.set(!1)}const _l=Object.freeze(Object.defineProperty({__proto__:null,backgroundColor:eu,hasShineEffect:tu,isEnabled:nu,isLoaderVisible:ru,isMounted:xs,isVisible:su,mount:cu,offClick:pu,onClick:lu,setParams:fu,state:yn,text:ou,textColor:iu,unmount:_u},Symbol.toStringTag,{value:"Module"}));function mn(e,t){document.documentElement.style.setProperty(e,t)}function gn(e){document.documentElement.style.removeProperty(e)}const we="themeParams",js="theme_changed",Ts=ae(we),Rs=({theme_params:e})=>{pe.set(e),X(we,e)},[du,Ps,hu,qs]=He(we,e=>I.resolve(z()&&V(we)||tt().tgWebAppThemeParams||{}),e=>{q(js,Rs),pe.set(e)}),yu=it(we,qs[0]);yu("bindCssVars",e=>{if(xt())throw new nn;e||(e=r=>`--tg-theme-${Zo(r)}`);function t(r){Object.entries(pe()).forEach(([s,o])=>{o&&r(s,o)})}function n(){t((r,s)=>{mn(e(r),s)})}return n(),pe.sub(n),xt.set(!0),()=>{t(gn),pe.unsub(n),xt.set(!1)}});const bu=Ts("mount",du);Ps[2];Ps[1];hu[1];const[br,dl]=qs,mu=Ts("mountSync",()=>{if(!br()){const e=z()&&V(we)||tt().tgWebAppThemeParams||{};q(js,Rs),Oe(()=>{pe.set(e),br.set(!0)})}});function Is(e){return A(()=>lt(e()))}function lt(e){return $e(e)?e:We()[e]}const[De,gu]=w("bg_color"),vn=Is(De),[Be,vu]=w("bottom_bar_bg_color"),wn=A(()=>{const e=Be();return $e(e)?e:We()[e]||Za()}),[Ne,wu]=w("bg_color"),Os=Is(Ne),[Ct,Eu]=w(!1),$u=A(()=>{const e=vn();return e?Xa(e):!1}),[pt,ku]=w(!0),Ls=A(()=>({backgroundColor:De(),bottomBarColor:Be(),headerColor:Ne(),isActive:pt()})),Je="web_app_set_background_color",Xe="web_app_set_bottom_bar_color",le="web_app_set_header_color",En="visibility_changed",_e="miniApp",$n={any:[Je,Xe,le]},Au=A(()=>$n.any.some(e=>fe(e,re()))),kn=e=>{pt.set(e.is_visible),_t()},An=e=>{[[Ne,le],[De,Je],[Be,Xe]].forEach(([t,n])=>{const r=t();if(!$e(r)&&(n!==le||r!=="bg_color"&&r!=="secondary_bg_color")){const s=e[r];s&&E(n,{color:s})}})},[Su,Ms,xu,Ds]=He(_e,e=>bu(e).then(()=>z()&&V(_e)||void 0),e=>{Sn.ifAvailable(e?e.backgroundColor:"bg_color"),xn.ifAvailable(e?e.bottomBarColor:"bottom_bar_bg_color"),Cn.ifAvailable(e?e.headerColor:"bg_color"),pt.set(e?e.isActive:!0),q(En,kn),We.sub(An)}),Bs=ae(_e),Ns=G(_e,$n),ft=ie(_e,Ds[0],$n),Cu=ft("bindCssVars",e=>{if(Ct())throw new nn;const[t,n]=Qe();function r(s,o){function a(){mn(s,o()||null)}a(),t(o.sub(a),gn.bind(null,s))}return e||(e=s=>`--tg-${Br(s)}`),r(e("bgColor"),vn),r(e("bottomBarColor"),wn),r(e("headerColor"),Os),t(()=>{Ct.set(!1)}),Ct.set(!0),n}),ju=Bs("close",e=>{E("web_app_close",{return_back:e})}),Tu=Ns("mount",Su),Ru=Ms[2],Vs=Ms[1],Pu=xu[1],[Ut,qu]=Ds,Iu=Ns("mountSync",()=>{if(!Ut()){mu();const e=z()&&V(_e)||void 0;Sn.ifAvailable(e?e.backgroundColor:"bg_color"),xn.ifAvailable(e?e.bottomBarColor:"bottom_bar_bg_color"),Cn.ifAvailable(e?e.headerColor:"bg_color"),q(En,kn),We.sub(An),Oe(()=>{pt.set(e?e.isActive:!0),Ut.set(!0)})}}),Ou=Bs("ready",()=>{E("web_app_ready")});function _t(){X(_e,Ls())}const Sn=ft("setBackgroundColor",e=>{if(e===De())return;const t=lt(e);if(!t)throw new rn(e);E(Je,{color:t}),De.set(e),_t()},Je),xn=ft("setBottomBarColor",e=>{if(e===Be())return;const t=lt(e);if(!t)throw new rn(e);E(Xe,{color:t}),Be.set(e),_t()},Xe),Cn=ft("setHeaderColor",e=>{if(e!==Ne()){if(e==="bg_color"||e==="secondary_bg_color")E(le,{color_key:e});else{const t=lt(e);if(!t)throw new rn(e);E(le,{color:t})}Ne.set(e),_t()}},le,{rgb:[le,"color",$e]});function Lu(){un(Vs),ne(En,kn),We.unsub(An),Ut.set(!1)}const hl=Object.freeze(Object.defineProperty({__proto__:null,backgroundColor:gu,backgroundColorRGB:vn,bindCssVars:Cu,bottomBarColor:vu,bottomBarColorRGB:wn,close:ju,headerColor:wu,headerColorRGB:Os,isActive:ku,isCssVarsBound:Eu,isDark:$u,isMounted:qu,isMounting:Ru,isSupported:Au,mount:Tu,mountError:Pu,mountPromise:Vs,mountSync:Iu,ready:Ou,setBackgroundColor:Sn,setBottomBarColor:xn,setHeaderColor:Cn,state:Ls,unmount:Lu},Symbol.toStringTag,{value:"Module"}));function Mu(e){const t=e.message.trim(),n=(e.title||"").trim(),r=e.buttons||[];if(n.length>64)throw new te(`Invalid title: ${n}`);if(!t||t.length>256)throw new te(`Invalid message: ${t}`);if(r.length>3)throw new te(`Invalid buttons count: ${r.length}`);return{title:n,message:t,buttons:r.length?r.map((s,o)=>{const a=s.id||"";if(a.length>64)throw new te(`Button with index ${o} has invalid id: ${a}`);if(!s.type||s.type==="default"||s.type==="destructive"){const u=s.text.trim();if(!u||u.length>64)throw new te(`Button with index ${o} has invalid text: ${u}`);return{type:s.type,text:u,id:a}}return{type:s.type,id:a}}):[{type:"close",id:""}]}}const Hs="web_app_open_popup",Us=G("popup",Hs),[Ws,jn,Fs]=H(e=>L(Hs,"popup_closed",{...e,params:Mu(e)}).then(({button_id:t})=>t===void 0?null:t),"A popup is already opened");Us("open",Ws);jn[1];jn[2];Fs[1];Us("show",Ws);const[,yl,bl]=jn,[,ml]=Fs,zs="web_app_close_scan_qr_popup",Gs="web_app_open_scan_qr_popup",Du="scan_qr_popup_closed",Bu="qr_text_received",Ys=G("qrScanner",Gs);Ys("close",()=>{E(zs),un(Wu)});function Nu(e){e||(e={});const{onCaptured:t,text:n,capture:r}=e,[,s]=Qe(q(Du,()=>{o.resolve()}),q(Bu,a=>{t?t(a.data):(!r||r(a.data))&&(o.resolve(a.data),E(zs))})),o=new Jo(e);return(e.postEvent||E)(Gs,{text:n}),I.resolve(o).catch(_s).finally(s)}const[Vu,Hu,Uu]=H(Nu,"The QR Scanner is already opened");Ys("open",Vu);const[,Wu,gl]=Hu,[,vl]=Uu,Ie=Ae({hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,position:"left",text:"Cancel"}),Fu=A(()=>{const e=Ie();return{...e,backgroundColor:e.backgroundColor||wn()||"#000000",textColor:e.textColor||Ss()||"#2481cc"}}),[mr,zu]=w(!1),Tn="web_app_setup_secondary_button",Ks="secondary_button_pressed",dt="secondaryButton",Rn=G(dt,Tn),Gu=ie(dt,zu,Tn);Rn("mount",()=>{if(!mr()){const e=z()&&V(dt);e&&Ie.set(e),mr.set(!0)}});Rn("onClick",e=>q(Ks,e));Rn("offClick",e=>{ne(Ks,e)});Gu("setParams",e=>{Ie.set({...Ie(),...dn(e)}),X(dt,Ie());const t=Fu();t.text&&E(Tn,{color:t.backgroundColor,has_shine_effect:t.hasShineEffect,is_active:t.isEnabled,is_progress_visible:t.isLoaderVisible,is_visible:t.isVisible,position:t.position,text:t.text,text_color:t.textColor})});const Pn="web_app_setup_settings_button",Js="settings_button_pressed",ht="settingsButton",[gr]=w(!1),[Wt]=w(!1),qn=G(ht,Pn),Xs=ie(ht,Wt,Pn);Xs("hide",()=>{In(!1)});qn("mount",()=>{Wt()||(In(z()&&V(ht)||!1),Wt.set(!0))});function In(e){e!==gr()&&(E(Pn,{is_visible:e}),X(ht,e),gr.set(e))}qn("onClick",e=>q(Js,e));qn("offClick",e=>{ne(Js,e)});Xs("show",()=>{In(!0)});const On="web_app_setup_swipe_behavior",yt="swipeBehavior",[Ft]=w(!1),[vr]=w(!0),Yu=G(yt,On),Qs=ie(yt,Ft,On);Qs("disableVertical",()=>{Ln(!1)});Qs("enableVertical",()=>{Ln(!0)});Yu("mount",()=>{Ft()||(Ln(z()&&V(yt)||!1,!0),Ft.set(!0))});function Ln(e,t){(e!==vr()||t)&&(E(On,{allow_vertical_swipe:e}),X(yt,e),vr.set(e))}const ye="viewport",Mn="fullscreen_changed",Dn="safe_area_changed",Bn="content_safe_area_changed",Nn="viewport_changed",Zs=ae(ye),wr={left:0,top:0,bottom:0,right:0};function jt(e){return Math.max(e,0)}const[Tt,eo]=w({contentSafeAreaInsets:wr,height:0,isExpanded:!1,isFullscreen:!1,safeAreaInsets:wr,stableHeight:0,width:0});function be(e){return A(()=>eo()[e])}const Vn=be("height"),Hn=be("stableHeight"),to=be("width"),Ku=be("isExpanded"),Ju=A(()=>Vn()===Hn());function Se(e){const{height:t,stableHeight:n,width:r}=e;Tt.set({...Tt(),...dn({...e,height:t?jt(t):void 0,width:r?jt(r):void 0,stableHeight:n?jt(n):void 0})}),X(ye,Tt())}function Xu(){return V(ye)}function bt(e){return A(()=>Un()[e])}const Un=be("contentSafeAreaInsets"),no=bt("bottom"),ro=bt("left"),so=bt("right"),oo=bt("top");function mt(e){return A(()=>Wn()[e])}const Wn=be("safeAreaInsets"),io=mt("bottom"),ao=mt("left"),uo=mt("right"),co=mt("top"),lo="web_app_request_safe_area",po=G(ye,lo),Er=po("requestContentSafeAreaInsets",e=>L("web_app_request_content_safe_area",Bn,e));function Qu(e){return L("web_app_request_viewport",Nn,e)}const $r=po("requestSafeAreaInsets",e=>L(lo,Dn,e)),fo=e=>{const{height:t}=e;Se({isExpanded:e.is_expanded,height:t,width:e.width,stableHeight:e.is_state_stable?t:void 0})},_o=e=>{Se({isFullscreen:e.is_fullscreen})},ho=e=>{Se({safeAreaInsets:e})},yo=e=>{Se({contentSafeAreaInsets:e})},[Zu,ec,tc,nc]=He(ye,e=>{const t=z()&&Xu();return t?I.resolve(t):I.fn(async n=>{const r=await I.all([$r.isAvailable()?$r(n):Wn(),Er.isAvailable()?Er(n):Un()]),s=tt(),o={contentSafeAreaInsets:r[1],isFullscreen:!!s.tgWebAppFullscreen,safeAreaInsets:r[0]};if(["macos","tdesktop","unigram","webk","weba","web"].includes(s.tgWebAppPlatform)){const a=window;return{...o,height:a.innerHeight,isExpanded:!0,stableHeight:a.innerHeight,width:a.innerWidth}}return Qu(n).then(a=>({...o,height:a.height,isExpanded:a.is_expanded,stableHeight:a.is_state_stable?a.height:0,width:a.width}))},e)},e=>{q(Nn,fo),q(Mn,_o),q(Dn,ho),q(Bn,yo),Se(e)}),rc=Zs("mount",Zu),[,bo,sc]=ec,[,oc]=tc,[Fn,ic]=nc;function ac(){un(bo),ne(Nn,fo),ne(Mn,_o),ne(Dn,ho),ne(Bn,yo),Fn.set(!1)}const uc=it(ye,Fn),[Rt,cc]=w(!1),lc=uc("bindCssVars",e=>{if(Rt())throw new nn;e||(e=n=>`--tg-viewport-${Br(n)}`);const t=[["height",Vn],["stableHeight",Hn],["width",to],["safeAreaInsetTop",co],["safeAreaInsetBottom",io],["safeAreaInsetLeft",ao],["safeAreaInsetRight",uo],["contentSafeAreaInsetTop",oo],["contentSafeAreaInsetBottom",no],["contentSafeAreaInsetLeft",ro],["contentSafeAreaInsetRight",so]].reduce((n,[r,s])=>{const o=e(r);if(o){const a=()=>{mn(o,`${s()}px`)};n.push([a,s.sub(a),o])}return n},[]);return t.forEach(n=>{n[0]()}),Rt.set(!0),()=>{t.forEach(n=>{n[1](),gn(n[2])}),Rt.set(!1)}}),pc=Zs("expand",()=>{E("web_app_expand")}),mo="web_app_request_fullscreen",fc=ie(ye,Fn,mo),go=be("isFullscreen"),[_c,dc]=w(),[hc,yc]=w();function vo(e,t){return fc(e,H(n=>L(t?mo:"web_app_exit_fullscreen",[Mn,"fullscreen_failed"],n).then(r=>{if("error"in r&&r.error!=="ALREADY_FULLSCREEN")throw new Qi(r.error);const s="is_fullscreen"in r?r.is_fullscreen:!0;s!==go()&&Se({isFullscreen:s})}),"Fullscreen mode change is already being requested",{promise:_c,error:hc})[0])}const bc=vo("requestFullscreen",!0),mc=vo("exitFullscreen"),wl=Object.freeze(Object.defineProperty({__proto__:null,bindCssVars:lc,changeFullscreenError:yc,changeFullscreenPromise:dc,contentSafeAreaInsetBottom:no,contentSafeAreaInsetLeft:ro,contentSafeAreaInsetRight:so,contentSafeAreaInsetTop:oo,contentSafeAreaInsets:Un,exitFullscreen:mc,expand:pc,height:Vn,isCssVarsBound:cc,isExpanded:Ku,isFullscreen:go,isMounted:ic,isMounting:sc,isStable:Ju,mount:rc,mountError:oc,mountPromise:bo,requestFullscreen:bc,safeAreaInsetBottom:io,safeAreaInsetLeft:ao,safeAreaInsetRight:uo,safeAreaInsetTop:co,safeAreaInsets:Wn,stableHeight:Hn,state:eo,unmount:ac,width:to},Symbol.toStringTag,{value:"Module"})),gc="web_app_request_emoji_status_access",[El,vc,wc]=H(e=>L(gc,"emoji_status_access_requested",e).then(t=>t.status),"Emoji status access request is already in progress"),[,$l,kl]=vc,[,Al]=wc,Ec="web_app_set_emoji_status",[Sl,$c,kc]=H((e,t)=>L(Ec,["emoji_status_set","emoji_status_failed"],{params:{custom_emoji_id:e,duration:(t||{}).duration},...t}).then(n=>{if(n&&"error"in n)throw new Ji(n.error)}),"Emoji status set request is currently in progress"),[,xl,Cl]=$c,[,jl]=kc,Ac="web_app_check_home_screen",[Tl,Sc,xc]=H(e=>L(Ac,"home_screen_checked",e).then(t=>t.status||"unknown"),"Check home screen status request is currently in progress"),[,Rl,Pl]=Sc,[,ql]=xc,Cc=ae();Cc("openLink",(e,t)=>{if(typeof e=="string")try{e=new URL(e)}catch(n){throw new te(`"${e.toString()}" is invalid URL`,n)}t||(t={}),E("web_app_open_link",{url:e.toString(),try_browser:t.tryBrowser,try_instant_view:t.tryInstantView})});const kr="web_app_open_tg_link",jc=ae(),Tc=jc("openTelegramLink",e=>{const t=e.toString();if(!t.match(/^https:\/\/t.me\/.+/))throw new te(`"${t}" is invalid URL`);if(!fe(kr,re())){window.location.href=t;return}e=new URL(e),E(kr,{path_full:e.pathname+e.search})}),Rc=ae();Rc("shareURL",(e,t)=>{Tc("https://t.me/share/url?"+new URLSearchParams({url:e,text:t||""}).toString().replace(/\+/g,"%20"))});function Pc(e,t){return new I({abortSignal:t,timeout:e}).catch(()=>{})}const wo="web_app_request_phone",[qc,Ic,Oc]=H(e=>L(wo,"phone_requested",e).then(t=>t.status),"Phone access request is currently in progress"),Lc=sn("requestPhoneAccess",qc,{isSupported:wo}),[,Il,Ol]=Ic,[,Ll]=Oc;async function Ar(e){const t=ve(P(),await Ve("getRequestedContact",{},{...e,timeout:(e||{}).timeout||5e3}));return{raw:t,parsed:ve(ze(Or([P(),qr(URLSearchParams)]),Zr(U({contact:ze(P(),Qt(),U({user_id:Ge(),phone_number:P(),first_name:P(),last_name:Ye(P())})),auth_date:ze(P(),jr(n=>new Date(Number(n)*1e3)),Pr()),hash:P()}))),t)}}const[Ml,Mc,Dc]=H(e=>new I(async(t,n,r)=>{try{return t(await Ar(r))}catch(o){if(o instanceof Pt)throw o}if(await Lc(r)!=="sent")throw new Xi("User denied access");let s=50;for(;!r.isAborted();){try{return t(await Ar(r))}catch(o){if(o instanceof Pt)throw o}await Pc(s),s+=50}},e),"Contact is already being requested"),[,Dl,Bl]=Mc,[,Nl]=Dc,Bc="web_app_request_write_access",[Vl,Nc,Vc]=H(e=>L(Bc,"write_access_requested",e).then(t=>t.status),"Write access request is currently in progress"),[,Hl,Ul]=Nc,[,Wl]=Vc;function Fl(e){zi(e);const[t,n]=Qe(q("reload_iframe",()=>{Nt().log("Received a request to reload the page"),E("iframe_will_reload"),window.location.reload()})),{acceptCustomStyles:r=!0}={};if(r){const s=document.createElement("style");s.id="telegram-custom-styles",document.head.appendChild(s),t(q("set_custom_style",o=>{s.innerHTML=o}),()=>{document.head.removeChild(s)})}return E("iframe_ready",{reload_supported:!0}),Nt().log("The package was initialized"),n}function zl(e){return Sr.useMemo(()=>et(e),[e])}export{Uc as F,hl as J,tl as Q,Hc as R,Fl as W,_l as X,Sr as a,wl as b,Co as g,To as r,zl as v};
